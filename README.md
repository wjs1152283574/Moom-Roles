
#### 使用
---
* `Dokcer`（默认支持部署方式）
    * `make initdb` // 初始化数据库等资源（`docker docker-compose`需要正确安装）
    * `make run` // 运行服务
* DIY打包
    * `make build` // 打包资源
* API文档
    * `make api` // 生成api资源
    * `/api/roles/service/v1` 下生成 `roles.swagger.json` 可直接导入`ApiFox`等工具
* 服务内使用
    * `RPC` : `/api/roles/service/v1` 下可生成对应 `client`，默认支持`Golang Client`
    * `HTTP` : 同时支持`http`协议请求鉴权接口，可在`app/roles/service/conf` 配置是否支持`HTTP`

#### 目标
* 目标：包装后台管理项目用户管理/权限管理/角色管理/路由与角色与权限关联管理等功能，开发管理后台只需关心自己系统本身业务即可。
* 功能
    * 后台用户管理
    * 角色管理
    * 权限管理
    * 路由管理
    * 鉴权功能（用户操作你的业务数据时通过 调用本服务 进行鉴权）
---
#### 基本功能介绍

* 实现功能 以下（HTTP）功能仅支持超级管理员
    * http:
        * 用户功能
            * 图片验证码
            * 生成超级管理员
            * 用户登陆
            * 用户创建
            * 用户删除
            * 用户详细
            * 用户列表
            * 用户分配权限
            * 用户分配角色
            * 用户解除角色
            * 用户解除权限
            * 编辑基本信息
            * 用户锁定
            * 用户解锁
        * 角色功能
            * 角色创建
            * 角色删除
            * 角色列表
            * 角色编辑
        * 权限功能
            * 权限创建
            * 权限删除
            * 权限列表
            * 权限编辑
        * 路由功能
            * 路由创建
            * 路由删除
            * 路由列表
            * 路由编辑
            * 路由设置角色
            * 路由解除角色
            * 路由设置权限
            * 路由解除权限

    * rpc(后期扩展同时支持HTTP)
        * 用户权限验证功能
            * 验证用户角色
            * 验证用户权限
        * 路由权限验证功能
            * 验证路由角色（Token）
            * 验证路由角色（UID）
            * 验证路由权限（Token）
            * 验证路由权限（UID）



* 记录:
    1. 权限新增路由字段，可以根据路由直接在项目中间件完成权限验证
---
#### 模型

* 用户表
* 角色表
* 权限表
* 角色_权限 关联表
* 用户_角色 关联表
* 用户_权限 关联表
* 路由表
* 路由_角色 关联表
* 路由_权限 关联表
* `app/role/service/internel/model`

